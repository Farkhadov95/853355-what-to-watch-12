{"ast":null,"code":"import _slicedToArray from\"/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import FilmCards from'../../components/film-cards/film-cards';import Footer from'../../components/footer/footer';import HeaderUserBlock from'../../components/header-user-block/header-user-block';import Logo from'../../components/logo/logo';import{useAppSelector}from'../../hooks';import{filmsSelector,isFilmsLoadingSelector}from'../../store/selectors';import LoadingScreen from'../loading-screen/loading-screen';import{FilmsToRender}from'../../const';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MyListScreen(){var filmsArray=useAppSelector(filmsSelector);var isFilmsDataLoading=useAppSelector(isFilmsLoadingSelector);var getFavorites=function getFavorites(){var favorites=filmsArray.filter(function(item){return item.isFavorite;});return favorites;};var _useState=useState(getFavorites().length),_useState2=_slicedToArray(_useState,2),favoritesCount=_useState2[0],setFavoritesCount=_useState2[1];useEffect(function(){setFavoritesCount(getFavorites().length);},[filmsArray]);if(isFilmsDataLoading){return/*#__PURE__*/_jsx(LoadingScreen,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"user-page\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"page-header user-page__head\",children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsxs(\"h1\",{className:\"page-title user-page__title\",children:[\"My list \",/*#__PURE__*/_jsx(\"span\",{className:\"user-page__film-count\",children:favoritesCount})]}),/*#__PURE__*/_jsx(HeaderUserBlock,{})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"catalog\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"catalog__title visually-hidden\",children:\"Catalog\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"catalog__films-list\",children:[favoritesCount===0&&/*#__PURE__*/_jsx(\"h2\",{className:\"catalog__title\",children:\"You have not added any films to your list yet\"}),/*#__PURE__*/_jsx(FilmCards,{films:getFavorites(),currentFilmsCount:FilmsToRender.MAX_FILMS_COUNT})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default MyListScreen;","map":{"version":3,"names":["FilmCards","Footer","HeaderUserBlock","Logo","useAppSelector","filmsSelector","isFilmsLoadingSelector","LoadingScreen","FilmsToRender","useEffect","useState","jsx","_jsx","jsxs","_jsxs","MyListScreen","filmsArray","isFilmsDataLoading","getFavorites","favorites","filter","item","isFavorite","_useState","length","_useState2","_slicedToArray","favoritesCount","setFavoritesCount","className","children","films","currentFilmsCount","MAX_FILMS_COUNT"],"sources":["/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/src/pages/my-list-screen/my-list-screen.tsx"],"sourcesContent":["import FilmCards from '../../components/film-cards/film-cards';\nimport Footer from '../../components/footer/footer';\nimport HeaderUserBlock from '../../components/header-user-block/header-user-block';\nimport Logo from '../../components/logo/logo';\nimport { useAppSelector } from '../../hooks';\nimport { filmsSelector, isFilmsLoadingSelector } from '../../store/selectors';\nimport LoadingScreen from '../loading-screen/loading-screen';\nimport { FilmsToRender } from '../../const';\nimport { useEffect, useState } from 'react';\n\nfunction MyListScreen(): JSX.Element {\n  const filmsArray = useAppSelector(filmsSelector);\n  const isFilmsDataLoading = useAppSelector(isFilmsLoadingSelector);\n\n  const getFavorites = () => {\n    const favorites = filmsArray.filter((item) => item.isFavorite);\n    return favorites;\n  };\n\n  const [favoritesCount, setFavoritesCount] = useState(getFavorites().length);\n\n  useEffect(() => {\n    setFavoritesCount(getFavorites().length);\n  }, [filmsArray]);\n\n  if (isFilmsDataLoading) {\n    return (\n      <LoadingScreen />\n    );\n  }\n\n  return (\n    <div className=\"user-page\">\n      <header className=\"page-header user-page__head\">\n        <Logo />\n        <h1 className=\"page-title user-page__title\">My list <span className=\"user-page__film-count\">{favoritesCount}</span></h1>\n        <HeaderUserBlock />\n      </header>\n\n      <section className=\"catalog\">\n        <h2 className=\"catalog__title visually-hidden\">Catalog</h2>\n\n        <div className=\"catalog__films-list\">\n          {favoritesCount === 0 && <h2 className=\"catalog__title\">You have not added any films to your list yet</h2>}\n          <FilmCards films={getFavorites()} currentFilmsCount={FilmsToRender.MAX_FILMS_COUNT}/>\n        </div>\n      </section>\n\n      <Footer />\n    </div>\n  );\n}\n\nexport default MyListScreen;\n"],"mappings":"8KAAA,MAAO,CAAAA,SAAS,KAAM,wCAAwC,CAC9D,MAAO,CAAAC,MAAM,KAAM,gCAAgC,CACnD,MAAO,CAAAC,eAAe,KAAM,sDAAsD,CAClF,MAAO,CAAAC,IAAI,KAAM,4BAA4B,CAC7C,OAASC,cAAc,KAAQ,aAAa,CAC5C,OAASC,aAAa,CAAEC,sBAAsB,KAAQ,uBAAuB,CAC7E,MAAO,CAAAC,aAAa,KAAM,kCAAkC,CAC5D,OAASC,aAAa,KAAQ,aAAa,CAC3C,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,QAAS,CAAAC,YAAYA,CAAA,CAAgB,CACnC,GAAM,CAAAC,UAAU,CAAGZ,cAAc,CAACC,aAAa,CAAC,CAChD,GAAM,CAAAY,kBAAkB,CAAGb,cAAc,CAACE,sBAAsB,CAAC,CAEjE,GAAM,CAAAY,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB,GAAM,CAAAC,SAAS,CAAGH,UAAU,CAACI,MAAM,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,CAACC,UAAU,GAAC,CAC9D,MAAO,CAAAH,SAAS,CAClB,CAAC,CAED,IAAAI,SAAA,CAA4Cb,QAAQ,CAACQ,YAAY,EAAE,CAACM,MAAM,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAApEI,cAAc,CAAAF,UAAA,IAAEG,iBAAiB,CAAAH,UAAA,IAExChB,SAAS,CAAC,UAAM,CACdmB,iBAAiB,CAACV,YAAY,EAAE,CAACM,MAAM,CAAC,CAC1C,CAAC,CAAE,CAACR,UAAU,CAAC,CAAC,CAEhB,GAAIC,kBAAkB,CAAE,CACtB,mBACEL,IAAA,CAACL,aAAa,IAAG,CAErB,CAEA,mBACEO,KAAA,QAAKe,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhB,KAAA,WAAQe,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC7ClB,IAAA,CAACT,IAAI,IAAG,cACRW,KAAA,OAAIe,SAAS,CAAC,6BAA6B,CAAAC,QAAA,EAAC,UAAQ,cAAAlB,IAAA,SAAMiB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEH,cAAc,EAAQ,GAAK,cACxHf,IAAA,CAACV,eAAe,IAAG,GACZ,cAETY,KAAA,YAASe,SAAS,CAAC,SAAS,CAAAC,QAAA,eAC1BlB,IAAA,OAAIiB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,SAAO,EAAK,cAE3DhB,KAAA,QAAKe,SAAS,CAAC,qBAAqB,CAAAC,QAAA,EACjCH,cAAc,GAAK,CAAC,eAAIf,IAAA,OAAIiB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,+CAA6C,EAAK,cAC1GlB,IAAA,CAACZ,SAAS,EAAC+B,KAAK,CAAEb,YAAY,EAAG,CAACc,iBAAiB,CAAExB,aAAa,CAACyB,eAAgB,EAAE,GACjF,GACE,cAEVrB,IAAA,CAACX,MAAM,IAAG,GACN,CAEV,CAEA,cAAe,CAAAc,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}