{"ast":null,"code":"import axios from'axios';import{getToken}from'./token';var BASE_URL='https://12.react.pages.academy/wtw';var REQUEST_TIMEOUT=5000;export var createAPI=function createAPI(){var api=axios.create({baseURL:BASE_URL,timeout:REQUEST_TIMEOUT});api.interceptors.request.use(function(config){var token=getToken();if(token&&config.headers){config.headers['x-token']=token;}return config;});return api;};","map":{"version":3,"names":["axios","getToken","BASE_URL","REQUEST_TIMEOUT","createAPI","api","create","baseURL","timeout","interceptors","request","use","config","token","headers"],"sources":["/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/src/services/api.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\nimport { getToken } from './token';\n\nconst BASE_URL = 'https://12.react.pages.academy/wtw';\nconst REQUEST_TIMEOUT = 5000;\n\nexport const createAPI = (): AxiosInstance => {\n  const api = axios.create({\n    baseURL: BASE_URL,\n    timeout: REQUEST_TIMEOUT\n  });\n\n  api.interceptors.request.use(\n    (config: AxiosRequestConfig) => {\n      const token = getToken();\n\n      if (token && config.headers) {\n        config.headers['x-token'] = token;\n      }\n      return config;\n    },\n  );\n\n  return api;\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAA6C,OAAO,CAChE,OAASC,QAAQ,KAAQ,SAAS,CAElC,GAAM,CAAAC,QAAQ,CAAG,oCAAoC,CACrD,GAAM,CAAAC,eAAe,CAAG,IAAI,CAE5B,MAAO,IAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAwB,CAC5C,GAAM,CAAAC,GAAG,CAAGL,KAAK,CAACM,MAAM,CAAC,CACvBC,OAAO,CAAEL,QAAQ,CACjBM,OAAO,CAAEL,eACX,CAAC,CAAC,CAEFE,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC1B,SAACC,MAA0B,CAAK,CAC9B,GAAM,CAAAC,KAAK,CAAGZ,QAAQ,EAAE,CAExB,GAAIY,KAAK,EAAID,MAAM,CAACE,OAAO,CAAE,CAC3BF,MAAM,CAACE,OAAO,CAAC,SAAS,CAAC,CAAGD,KAAK,CACnC,CACA,MAAO,CAAAD,MAAM,CACf,CAAC,CACF,CAED,MAAO,CAAAP,GAAG,CACZ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}