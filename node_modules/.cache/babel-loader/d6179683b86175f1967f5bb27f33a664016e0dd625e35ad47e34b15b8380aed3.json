{"ast":null,"code":"import axios from 'axios';\nimport { getToken } from './token';\nconst BASE_URL = 'https://12.react.pages.academy/wtw';\nconst REQUEST_TIMEOUT = 5000;\nexport const createAPI = () => {\n  const api = axios.create({\n    baseURL: BASE_URL,\n    timeout: REQUEST_TIMEOUT\n  });\n  api.interceptors.request.use(config => {\n    const token = getToken();\n    if (token && config.headers) {\n      config.headers['x-token'] = token;\n    }\n    return config;\n  });\n  return api;\n};","map":{"version":3,"names":["axios","getToken","BASE_URL","REQUEST_TIMEOUT","createAPI","api","create","baseURL","timeout","interceptors","request","use","config","token","headers"],"sources":["/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/src/services/api.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\nimport { getToken } from './token';\n\nconst BASE_URL = 'https://12.react.pages.academy/wtw';\nconst REQUEST_TIMEOUT = 5000;\n\nexport const createAPI = (): AxiosInstance => {\n  const api = axios.create({\n    baseURL: BASE_URL,\n    timeout: REQUEST_TIMEOUT\n  });\n\n  api.interceptors.request.use(\n    (config: AxiosRequestConfig) => {\n      const token = getToken();\n\n      if (token && config.headers) {\n        config.headers['x-token'] = token;\n      }\n      return config;\n    },\n  );\n\n  return api;\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAA6C,OAAO;AAChE,SAASC,QAAQ,QAAQ,SAAS;AAElC,MAAMC,QAAQ,GAAG,oCAAoC;AACrD,MAAMC,eAAe,GAAG,IAAI;AAE5B,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAqB;EAC5C,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;IACvBC,OAAO,EAAEL,QAAQ;IACjBM,OAAO,EAAEL;EACX,CAAC,CAAC;EAEFE,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAA0B,IAAK;IAC9B,MAAMC,KAAK,GAAGZ,QAAQ,EAAE;IAExB,IAAIY,KAAK,IAAID,MAAM,CAACE,OAAO,EAAE;MAC3BF,MAAM,CAACE,OAAO,CAAC,SAAS,CAAC,GAAGD,KAAK;IACnC;IACA,OAAOD,MAAM;EACf,CAAC,CACF;EAED,OAAOP,GAAG;AACZ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}