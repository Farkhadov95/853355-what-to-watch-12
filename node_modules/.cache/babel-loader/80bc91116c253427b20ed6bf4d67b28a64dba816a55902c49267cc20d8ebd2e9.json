{"ast":null,"code":"import _slicedToArray from\"/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useLayoutEffect}from'react';import{Router}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";function HistoryRouter(_ref){var basename=_ref.basename,children=_ref.children,history=_ref.history;var _useState=useState({action:history.action,location:history.location}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useLayoutEffect(function(){return history.listen(setState);},[history]);return/*#__PURE__*/_jsx(Router,{basename:basename,location:state.location,navigationType:state.action,navigator:history,children:children});}export default HistoryRouter;","map":{"version":3,"names":["useState","useLayoutEffect","Router","jsx","_jsx","HistoryRouter","_ref","basename","children","history","_useState","action","location","_useState2","_slicedToArray","state","setState","listen","navigationType","navigator"],"sources":["/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/src/components/history-route/history-route.tsx"],"sourcesContent":["import {useState, useLayoutEffect} from 'react';\nimport {Router} from 'react-router-dom';\nimport type {BrowserHistory} from 'history';\n\nexport interface HistoryRouterProps {\n  history: BrowserHistory;\n  basename?: string;\n  children?: React.ReactNode;\n}\n\nfunction HistoryRouter({\n  basename,\n  children,\n  history,\n}: HistoryRouterProps) {\n  const [state, setState] = useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    >\n      {children}\n    </Router>\n  );\n}\n\nexport default HistoryRouter;\n"],"mappings":"8KAAA,OAAQA,QAAQ,CAAEC,eAAe,KAAO,OAAO,CAC/C,OAAQC,MAAM,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBASxC,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAIC,IAHrB,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACRC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CACRC,OAAO,CAAAH,IAAA,CAAPG,OAAO,CAEP,IAAAC,SAAA,CAA0BV,QAAQ,CAAC,CACjCW,MAAM,CAAEF,OAAO,CAACE,MAAM,CACtBC,QAAQ,CAAEH,OAAO,CAACG,QACpB,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAHKK,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAKtBZ,eAAe,CAAC,iBAAM,CAAAQ,OAAO,CAACQ,MAAM,CAACD,QAAQ,CAAC,GAAE,CAACP,OAAO,CAAC,CAAC,CAE1D,mBACEL,IAAA,CAACF,MAAM,EACLK,QAAQ,CAAEA,QAAS,CACnBK,QAAQ,CAAEG,KAAK,CAACH,QAAS,CACzBM,cAAc,CAAEH,KAAK,CAACJ,MAAO,CAC7BQ,SAAS,CAAEV,OAAQ,CAAAD,QAAA,CAElBA,QAAQ,EACF,CAEb,CAEA,cAAe,CAAAH,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}