{"ast":null,"code":"var _jsxFileName = \"/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/src/pages/player-screen.tsx/player-screen.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { AppRoute } from '../../const';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { redirectToRoute } from '../../store/actions/action';\nimport { errorSelector, filmSelector } from '../../store/selectors';\nimport NotFoundScreen from '../not-found-screen/not-found-screen';\nimport { fetchFilmAction } from '../../store/films-data/films-data';\nimport ErrorMessage from '../../components/error-message/error-message';\nimport { processErrorHandle } from '../../services/process-error-handler';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction PlayerScreen() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const dispatch = useAppDispatch();\n  const errorMessage = useAppSelector(errorSelector);\n  const videoRef = useRef(null);\n  const film = useAppSelector(filmSelector);\n  useEffect(() => {\n    async function fetchData() {\n      await dispatch(fetchFilmAction({\n        id: Number(id)\n      }));\n    }\n    fetchData();\n  }, [id]);\n  useEffect(() => {\n    if (errorMessage) {\n      processErrorHandle(errorMessage);\n    }\n  }, [id, errorMessage]);\n  const [isPlaying, setIsPlaying] = useState(true);\n  const [progress, setProgress] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  useEffect(() => {\n    if (videoRef.current) {\n      const handlePlay = () => {\n        setIsPlaying(true);\n      };\n      const handlePause = () => {\n        setIsPlaying(false);\n      };\n      const handleLoadedMetadata = () => {\n        if (videoRef.current) {\n          setDuration(videoRef.current.duration);\n        }\n      };\n      const handleTimeUpdate = () => {\n        if (videoRef.current) {\n          var _videoRef$current, _videoRef$current2, _videoRef$current3;\n          setCurrentTime((_videoRef$current = videoRef.current) === null || _videoRef$current === void 0 ? void 0 : _videoRef$current.currentTime);\n          const videoCurrent = (_videoRef$current2 = videoRef.current) === null || _videoRef$current2 === void 0 ? void 0 : _videoRef$current2.currentTime;\n          const videoDuration = (_videoRef$current3 = videoRef.current) === null || _videoRef$current3 === void 0 ? void 0 : _videoRef$current3.duration;\n          if (videoCurrent && videoDuration) {\n            setProgress(videoCurrent / videoDuration * 100);\n          }\n        }\n      };\n      videoRef.current.addEventListener('play', handlePlay);\n      videoRef.current.addEventListener('pause', handlePause);\n      videoRef.current.addEventListener('timeupdate', handleTimeUpdate);\n      videoRef.current.addEventListener('loadedmetadata', handleLoadedMetadata);\n      return () => {\n        var _videoRef$current4, _videoRef$current5, _videoRef$current6, _videoRef$current7;\n        (_videoRef$current4 = videoRef.current) === null || _videoRef$current4 === void 0 ? void 0 : _videoRef$current4.removeEventListener('timeupdate', handleTimeUpdate);\n        (_videoRef$current5 = videoRef.current) === null || _videoRef$current5 === void 0 ? void 0 : _videoRef$current5.removeEventListener('play', handlePlay);\n        (_videoRef$current6 = videoRef.current) === null || _videoRef$current6 === void 0 ? void 0 : _videoRef$current6.removeEventListener('pause', handlePause);\n        (_videoRef$current7 = videoRef.current) === null || _videoRef$current7 === void 0 ? void 0 : _videoRef$current7.removeEventListener('loadedmetadata', handleLoadedMetadata);\n      };\n    }\n  }, [videoRef]);\n  if (!film) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ErrorMessage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(NotFoundScreen, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true);\n  }\n  const onExitButtonClick = () => {\n    if (videoRef.current) {\n      videoRef.current.pause();\n    }\n    dispatch(redirectToRoute(AppRoute.Root));\n  };\n  const onPlayButtonClick = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause();\n      } else {\n        videoRef.current.play();\n      }\n    }\n  };\n  const onFullScreenButtonClick = () => {\n    if (videoRef.current) {\n      videoRef.current.requestFullscreen();\n    }\n  };\n  function formatTime(seconds) {\n    const h = Math.floor(seconds / 3600);\n    const m = Math.floor(seconds % 3600 / 60);\n    const s = Math.floor(seconds % 60);\n    if (h === 0) {\n      return `- ${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n    } else {\n      return `- ${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"player\",\n    children: [/*#__PURE__*/_jsxDEV(\"video\", {\n      className: \"player__video\",\n      src: film.videoLink,\n      poster: film.previewImage,\n      ref: videoRef,\n      autoPlay: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"player__exit\",\n      onClick: onExitButtonClick,\n      children: \"Exit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player__controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player__controls-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player__time\",\n          children: [/*#__PURE__*/_jsxDEV(\"progress\", {\n            className: \"player__progress\",\n            value: progress,\n            max: \"100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player__toggler\",\n            style: {\n              left: `${progress}%`\n            },\n            children: \"Toggler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player__time-value\",\n          children: `${formatTime(duration - currentTime)}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player__controls-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"player__play\",\n          onClick: onPlayButtonClick,\n          children: isPlaying ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"14px\",\n              height: \"21px\",\n              viewBox: \"0 0 14 21\",\n              version: \"1.1\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n              children: /*#__PURE__*/_jsxDEV(\"g\", {\n                id: \"Artboard\",\n                stroke: \"none\",\n                strokeWidth: \"1\",\n                fill: \"none\",\n                fillRule: \"evenodd\",\n                children: [/*#__PURE__*/_jsxDEV(\"polygon\", {\n                  id: \"Line\",\n                  fill: \"#EEE5B5\",\n                  fillRule: \"nonzero\",\n                  points: \"0 -1.11910481e-13 4 -1.11910481e-13 4 21 0 21\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n                  id: \"Line\",\n                  fill: \"#EEE5B5\",\n                  fillRule: \"nonzero\",\n                  points: \"10 -1.11910481e-13 14 -1.11910481e-13 14 21 10 21\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Play\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              viewBox: \"0 0 19 19\",\n              width: \"19\",\n              height: \"19\",\n              children: /*#__PURE__*/_jsxDEV(\"use\", {\n                xlinkHref: \"#play-s\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Pause\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player__name\",\n          children: film.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"player__full-screen\",\n          onClick: onFullScreenButtonClick,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            viewBox: \"0 0 27 27\",\n            width: \"27\",\n            height: \"27\",\n            children: /*#__PURE__*/_jsxDEV(\"use\", {\n              xlinkHref: \"#full-screen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Full screen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n_s(PlayerScreen, \"c3Y8/sb0SSNwzm2MdmdixLpZN6g=\", false, function () {\n  return [useParams, useAppDispatch, useAppSelector, useAppSelector];\n});\n_c = PlayerScreen;\nexport default PlayerScreen;\nvar _c;\n$RefreshReg$(_c, \"PlayerScreen\");","map":{"version":3,"names":["useEffect","useRef","useState","useParams","AppRoute","useAppDispatch","useAppSelector","redirectToRoute","errorSelector","filmSelector","NotFoundScreen","fetchFilmAction","ErrorMessage","processErrorHandle","jsxDEV","_jsxDEV","Fragment","_Fragment","PlayerScreen","_s","id","dispatch","errorMessage","videoRef","film","fetchData","Number","isPlaying","setIsPlaying","progress","setProgress","currentTime","setCurrentTime","duration","setDuration","current","handlePlay","handlePause","handleLoadedMetadata","handleTimeUpdate","_videoRef$current","_videoRef$current2","_videoRef$current3","videoCurrent","videoDuration","addEventListener","_videoRef$current4","_videoRef$current5","_videoRef$current6","_videoRef$current7","removeEventListener","children","fileName","_jsxFileName","lineNumber","columnNumber","onExitButtonClick","pause","Root","onPlayButtonClick","play","onFullScreenButtonClick","requestFullscreen","formatTime","seconds","h","Math","floor","m","s","toString","padStart","className","src","videoLink","poster","previewImage","ref","autoPlay","type","onClick","value","max","style","left","width","height","viewBox","version","xmlns","xmlnsXlink","stroke","strokeWidth","fill","fillRule","points","xlinkHref","name","_c","$RefreshReg$"],"sources":["/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/src/pages/player-screen.tsx/player-screen.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { AppRoute } from '../../const';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { redirectToRoute } from '../../store/actions/action';\nimport { errorSelector, filmSelector } from '../../store/selectors';\nimport NotFoundScreen from '../not-found-screen/not-found-screen';\nimport { fetchFilmAction } from '../../store/films-data/films-data';\nimport ErrorMessage from '../../components/error-message/error-message';\nimport { processErrorHandle } from '../../services/process-error-handler';\n\nfunction PlayerScreen(): JSX.Element {\n  const {id} = useParams();\n  const dispatch = useAppDispatch();\n  const errorMessage = useAppSelector(errorSelector);\n\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  const film = useAppSelector(filmSelector);\n\n  useEffect(() => {\n    async function fetchData() {\n      await dispatch(fetchFilmAction({id: Number(id)}));\n    }\n    fetchData();\n  }, [id]);\n\n  useEffect(() => {\n    if (errorMessage) {\n      processErrorHandle(errorMessage);\n    }\n  }, [id, errorMessage]);\n\n  const [isPlaying, setIsPlaying] = useState(true);\n  const [progress, setProgress] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n\n\n  useEffect(() => {\n    if (videoRef.current) {\n      const handlePlay = () => {\n        setIsPlaying(true);\n      };\n      const handlePause = () => {\n        setIsPlaying(false);\n      };\n\n      const handleLoadedMetadata = () => {\n        if (videoRef.current) {\n          setDuration(videoRef.current.duration);\n        }\n      };\n\n      const handleTimeUpdate = () => {\n        if (videoRef.current) {\n          setCurrentTime(videoRef.current?.currentTime);\n          const videoCurrent = videoRef.current?.currentTime;\n          const videoDuration = videoRef.current?.duration;\n          if (videoCurrent && videoDuration) {\n            setProgress((videoCurrent / videoDuration) * 100);\n          }\n        }\n      };\n\n      videoRef.current.addEventListener('play', handlePlay);\n      videoRef.current.addEventListener('pause', handlePause);\n      videoRef.current.addEventListener('timeupdate', handleTimeUpdate);\n      videoRef.current.addEventListener('loadedmetadata', handleLoadedMetadata);\n\n      return () => {\n        videoRef.current?.removeEventListener('timeupdate', handleTimeUpdate);\n        videoRef.current?.removeEventListener('play', handlePlay);\n        videoRef.current?.removeEventListener('pause', handlePause);\n        videoRef.current?.removeEventListener('loadedmetadata', handleLoadedMetadata);\n      };\n    }\n  }, [videoRef]);\n\n  if (!film) {\n    return <><ErrorMessage /><NotFoundScreen /></>;\n  }\n\n  const onExitButtonClick = () => {\n    if (videoRef.current) {\n      videoRef.current.pause();\n    }\n    dispatch(redirectToRoute(AppRoute.Root));\n  };\n\n  const onPlayButtonClick = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause();\n      } else {\n        videoRef.current.play();\n      }\n    }\n  };\n\n  const onFullScreenButtonClick = () => {\n    if (videoRef.current) {\n      videoRef.current.requestFullscreen();\n    }\n  };\n\n  function formatTime(seconds: number) {\n    const h = Math.floor(seconds / 3600);\n    const m = Math.floor((seconds % 3600) / 60);\n    const s = Math.floor(seconds % 60);\n    if (h === 0) {\n      return `- ${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n    } else {\n      return `- ${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n    }\n  }\n\n  return (\n    <div className=\"player\">\n      <video\n        className=\"player__video\"\n        src={film.videoLink}\n        poster={film.previewImage}\n        ref={videoRef}\n        autoPlay\n      >\n      </video>\n\n      <button type=\"button\" className=\"player__exit\" onClick={onExitButtonClick}>Exit</button>\n\n      <div className=\"player__controls\">\n        <div className=\"player__controls-row\">\n          <div className=\"player__time\">\n            <progress className=\"player__progress\" value={progress} max=\"100\"></progress>\n            <div className=\"player__toggler\" style={{left: `${progress}%`}}>Toggler</div>\n          </div>\n          <div className=\"player__time-value\">{`${formatTime(duration - currentTime)}`}</div>\n        </div>\n\n        <div className=\"player__controls-row\">\n          <button type=\"button\" className=\"player__play\" onClick={onPlayButtonClick}>\n            {\n              isPlaying ?\n                <>\n                  <svg width=\"14px\" height=\"21px\" viewBox=\"0 0 14 21\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\">\n                    <g id=\"Artboard\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                      <polygon id=\"Line\" fill=\"#EEE5B5\" fillRule=\"nonzero\" points=\"0 -1.11910481e-13 4 -1.11910481e-13 4 21 0 21\"></polygon>\n                      <polygon id=\"Line\" fill=\"#EEE5B5\" fillRule=\"nonzero\" points=\"10 -1.11910481e-13 14 -1.11910481e-13 14 21 10 21\"></polygon>\n                    </g>\n                  </svg>\n                  <span>Play</span>\n                </> :\n                <>\n                  <svg viewBox=\"0 0 19 19\" width=\"19\" height=\"19\">\n                    <use xlinkHref=\"#play-s\"></use>\n                  </svg>\n                  <span>Pause</span>\n                </>\n            }\n          </button>\n          <div className=\"player__name\">{film.name}</div>\n\n          <button type=\"button\" className=\"player__full-screen\" onClick={onFullScreenButtonClick}>\n            <svg viewBox=\"0 0 27 27\" width=\"27\" height=\"27\">\n              <use xlinkHref=\"#full-screen\"></use>\n            </svg>\n            <span>Full screen</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PlayerScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}