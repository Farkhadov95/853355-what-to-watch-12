{"ast":null,"code":"import{useRef}from'react';import{useNavigate}from'react-router-dom';import ErrorMessage from'../../components/error-message/error-message';import Footer from'../../components/footer/footer';import Logo from'../../components/logo/logo';import{AppRoute,ErrorMessages}from'../../const';import{useAppDispatch}from'../../hooks';import{processErrorHandle}from'../../services/process-error-handler';import{loginAction}from'../../store/user-process/user-process';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignInScreen(){var emailRef=useRef(null);var passwordRef=useRef(null);var dispatch=useAppDispatch();var navigate=useNavigate();var onSubmit=function onSubmit(authData){dispatch(loginAction(authData));};var handleSubmit=function handleSubmit(evt){var _emailRef$current,_passwordRef$current;evt.preventDefault();if((_emailRef$current=emailRef.current)!==null&&_emailRef$current!==void 0&&_emailRef$current.value&&(_passwordRef$current=passwordRef.current)!==null&&_passwordRef$current!==void 0&&_passwordRef$current.value){onSubmit({login:emailRef.current.value,password:passwordRef.current.value});navigate(AppRoute.Root);}else{processErrorHandle(ErrorMessages.INVALID_LOGIN_DATA);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"user-page\",children:[/*#__PURE__*/_jsx(ErrorMessage,{}),/*#__PURE__*/_jsxs(\"header\",{className:\"page-header user-page__head\",children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"page-title user-page__title\",children:\"Sign in\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-in user-page__content\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"#\",className:\"sign-in__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in__fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in__field\",children:[/*#__PURE__*/_jsx(\"input\",{ref:emailRef,className:\"sign-in__input\",type:\"email\",placeholder:\"Email address\",name:\"user-email\",id:\"user-email\"}),/*#__PURE__*/_jsx(\"label\",{className:\"sign-in__label visually-hidden\",htmlFor:\"user-email\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in__field\",children:[/*#__PURE__*/_jsx(\"input\",{ref:passwordRef,className:\"sign-in__input\",type:\"password\",placeholder:\"Password\",name:\"user-password\",id:\"user-password\"}),/*#__PURE__*/_jsx(\"label\",{className:\"sign-in__label visually-hidden\",htmlFor:\"user-password\",children:\"Password\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-in__submit\",children:/*#__PURE__*/_jsx(\"button\",{className:\"sign-in__btn\",type:\"submit\",children:\"Sign in\"})})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default SignInScreen;","map":{"version":3,"names":["useRef","useNavigate","ErrorMessage","Footer","Logo","AppRoute","ErrorMessages","useAppDispatch","processErrorHandle","loginAction","jsx","_jsx","jsxs","_jsxs","SignInScreen","emailRef","passwordRef","dispatch","navigate","onSubmit","authData","handleSubmit","evt","_emailRef$current","_passwordRef$current","preventDefault","current","value","login","password","Root","INVALID_LOGIN_DATA","className","children","action","ref","type","placeholder","name","id","htmlFor"],"sources":["/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/src/pages/sign-in-screen/sign-in-screen.tsx"],"sourcesContent":["import { useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport ErrorMessage from '../../components/error-message/error-message';\nimport Footer from '../../components/footer/footer';\nimport Logo from '../../components/logo/logo';\nimport { AppRoute, ErrorMessages } from '../../const';\nimport { useAppDispatch } from '../../hooks';\nimport { processErrorHandle } from '../../services/process-error-handler';\nimport { loginAction } from '../../store/user-process/user-process';\nimport { AuthData } from '../../types/auth-data';\n\nfunction SignInScreen(): JSX.Element {\n  const emailRef = useRef<HTMLInputElement>(null);\n  const passwordRef = useRef<HTMLInputElement>(null);\n\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  const onSubmit = (authData: AuthData) => {\n    dispatch(loginAction(authData));\n  };\n\n  const handleSubmit = (evt: React.FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n\n    if (emailRef.current?.value && passwordRef.current?.value) {\n      onSubmit({\n        login: emailRef.current.value,\n        password: passwordRef.current.value,\n      });\n      navigate(AppRoute.Root);\n    } else {\n      processErrorHandle(ErrorMessages.INVALID_LOGIN_DATA);\n    }\n  };\n\n  return (\n    <div className=\"user-page\">\n      <ErrorMessage />\n      <header className=\"page-header user-page__head\">\n        <Logo />\n        <h1 className=\"page-title user-page__title\">Sign in</h1>\n      </header>\n\n      <div className=\"sign-in user-page__content\">\n        <form action=\"#\" className=\"sign-in__form\" onSubmit={handleSubmit}>\n          <div className=\"sign-in__fields\">\n            <div className=\"sign-in__field\">\n              <input\n                ref={emailRef}\n                className=\"sign-in__input\"\n                type=\"email\"\n                placeholder=\"Email address\"\n                name=\"user-email\" id=\"user-email\"\n              />\n              <label className=\"sign-in__label visually-hidden\" htmlFor=\"user-email\">Email address</label>\n            </div>\n            <div className=\"sign-in__field\">\n              <input\n                ref={passwordRef}\n                className=\"sign-in__input\"\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"user-password\"\n                id=\"user-password\"\n              />\n              <label className=\"sign-in__label visually-hidden\" htmlFor=\"user-password\">Password</label>\n            </div>\n          </div>\n          <div className=\"sign-in__submit\">\n            <button className=\"sign-in__btn\" type=\"submit\">Sign in</button>\n          </div>\n        </form>\n      </div>\n\n      <Footer />\n    </div>\n  );\n}\n\nexport default SignInScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}