{"ast":null,"code":"import _slicedToArray from\"/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useEffect,useRef,useState}from'react';import{useParams}from'react-router-dom';import{AppRoute}from'../../const';import{useAppDispatch,useAppSelector}from'../../hooks';import{redirectToRoute}from'../../store/actions/action';import{errorSelector,filmSelector}from'../../store/selectors';import NotFoundScreen from'../not-found-screen/not-found-screen';import{fetchFilmAction}from'../../store/films-data/films-data';import ErrorMessage from'../../components/error-message/error-message';import{processErrorHandle}from'../../services/process-error-handler';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PlayerScreen(){var _useParams=useParams(),id=_useParams.id;var dispatch=useAppDispatch();var errorMessage=useAppSelector(errorSelector);var videoRef=useRef(null);var film=useAppSelector(filmSelector);useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(fetchFilmAction({id:Number(id)}));case 2:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[id]);useEffect(function(){if(errorMessage){processErrorHandle(errorMessage);}},[id,errorMessage]);var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isPlaying=_useState2[0],setIsPlaying=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),progress=_useState4[0],setProgress=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),currentTime=_useState6[0],setCurrentTime=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),duration=_useState8[0],setDuration=_useState8[1];useEffect(function(){if(videoRef.current){var handlePlay=function handlePlay(){setIsPlaying(true);};var handlePause=function handlePause(){setIsPlaying(false);};var handleLoadedMetadata=function handleLoadedMetadata(){if(videoRef.current){setDuration(videoRef.current.duration);}};var handleTimeUpdate=function handleTimeUpdate(){if(videoRef.current){var _videoRef$current,_videoRef$current2,_videoRef$current3;setCurrentTime((_videoRef$current=videoRef.current)===null||_videoRef$current===void 0?void 0:_videoRef$current.currentTime);var videoCurrent=(_videoRef$current2=videoRef.current)===null||_videoRef$current2===void 0?void 0:_videoRef$current2.currentTime;var videoDuration=(_videoRef$current3=videoRef.current)===null||_videoRef$current3===void 0?void 0:_videoRef$current3.duration;if(videoCurrent&&videoDuration){setProgress(videoCurrent/videoDuration*100);}}};videoRef.current.addEventListener('play',handlePlay);videoRef.current.addEventListener('pause',handlePause);videoRef.current.addEventListener('timeupdate',handleTimeUpdate);videoRef.current.addEventListener('loadedmetadata',handleLoadedMetadata);return function(){var _videoRef$current4,_videoRef$current5,_videoRef$current6,_videoRef$current7;(_videoRef$current4=videoRef.current)===null||_videoRef$current4===void 0?void 0:_videoRef$current4.removeEventListener('timeupdate',handleTimeUpdate);(_videoRef$current5=videoRef.current)===null||_videoRef$current5===void 0?void 0:_videoRef$current5.removeEventListener('play',handlePlay);(_videoRef$current6=videoRef.current)===null||_videoRef$current6===void 0?void 0:_videoRef$current6.removeEventListener('pause',handlePause);(_videoRef$current7=videoRef.current)===null||_videoRef$current7===void 0?void 0:_videoRef$current7.removeEventListener('loadedmetadata',handleLoadedMetadata);};}},[videoRef]);if(!film){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ErrorMessage,{}),/*#__PURE__*/_jsx(NotFoundScreen,{})]});}var onExitButtonClick=function onExitButtonClick(){if(videoRef.current){videoRef.current.pause();}dispatch(redirectToRoute(AppRoute.Root));};var onPlayButtonClick=function onPlayButtonClick(){if(videoRef.current){if(isPlaying){videoRef.current.pause();}else{videoRef.current.play();}}};var onFullScreenButtonClick=function onFullScreenButtonClick(){if(videoRef.current){videoRef.current.requestFullscreen();}};function formatTime(seconds){var h=Math.floor(seconds/3600);var m=Math.floor(seconds%3600/60);var s=Math.floor(seconds%60);if(h===0){return\"- \".concat(m.toString().padStart(2,'0'),\":\").concat(s.toString().padStart(2,'0'));}else{return\"- \".concat(h.toString().padStart(2,'0'),\":\").concat(m.toString().padStart(2,'0'),\":\").concat(s.toString().padStart(2,'0'));}}return/*#__PURE__*/_jsxs(\"div\",{className:\"player\",children:[/*#__PURE__*/_jsx(\"video\",{className:\"player__video\",src:film.videoLink,poster:film.previewImage,ref:videoRef,autoPlay:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"player__exit\",onClick:onExitButtonClick,children:\"Exit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"player__controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"player__controls-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"player__time\",children:[/*#__PURE__*/_jsx(\"progress\",{className:\"player__progress\",value:progress,max:\"100\"}),/*#__PURE__*/_jsx(\"div\",{className:\"player__toggler\",style:{left:\"\".concat(progress,\"%\")},children:\"Toggler\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"player__time-value\",children:\"\".concat(formatTime(duration-currentTime))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"player__controls-row\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"player__play\",onClick:onPlayButtonClick,children:isPlaying?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{width:\"14px\",height:\"21px\",viewBox:\"0 0 14 21\",version:\"1.1\",xmlns:\"http://www.w3.org/2000/svg\",xmlnsXlink:\"http://www.w3.org/1999/xlink\",children:/*#__PURE__*/_jsxs(\"g\",{id:\"Artboard\",stroke:\"none\",strokeWidth:\"1\",fill:\"none\",fillRule:\"evenodd\",children:[/*#__PURE__*/_jsx(\"polygon\",{id:\"Line\",fill:\"#EEE5B5\",fillRule:\"nonzero\",points:\"0 -1.11910481e-13 4 -1.11910481e-13 4 21 0 21\"}),/*#__PURE__*/_jsx(\"polygon\",{id:\"Line\",fill:\"#EEE5B5\",fillRule:\"nonzero\",points:\"10 -1.11910481e-13 14 -1.11910481e-13 14 21 10 21\"})]})}),/*#__PURE__*/_jsx(\"span\",{children:\"Play\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 19 19\",width:\"19\",height:\"19\",children:/*#__PURE__*/_jsx(\"use\",{xlinkHref:\"#play-s\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Pause\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"player__name\",children:film.name}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"player__full-screen\",onClick:onFullScreenButtonClick,children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 27 27\",width:\"27\",height:\"27\",children:/*#__PURE__*/_jsx(\"use\",{xlinkHref:\"#full-screen\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Full screen\"})]})]})]})]});}export default PlayerScreen;","map":{"version":3,"names":["useEffect","useRef","useState","useParams","AppRoute","useAppDispatch","useAppSelector","redirectToRoute","errorSelector","filmSelector","NotFoundScreen","fetchFilmAction","ErrorMessage","processErrorHandle","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PlayerScreen","_useParams","id","dispatch","errorMessage","videoRef","film","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","Number","stop","_useState","_useState2","_slicedToArray","isPlaying","setIsPlaying","_useState3","_useState4","progress","setProgress","_useState5","_useState6","currentTime","setCurrentTime","_useState7","_useState8","duration","setDuration","current","handlePlay","handlePause","handleLoadedMetadata","handleTimeUpdate","_videoRef$current","_videoRef$current2","_videoRef$current3","videoCurrent","videoDuration","addEventListener","_videoRef$current4","_videoRef$current5","_videoRef$current6","_videoRef$current7","removeEventListener","children","onExitButtonClick","pause","Root","onPlayButtonClick","play","onFullScreenButtonClick","requestFullscreen","formatTime","seconds","h","Math","floor","m","s","concat","toString","padStart","className","src","videoLink","poster","previewImage","ref","autoPlay","type","onClick","value","max","style","left","width","height","viewBox","version","xmlns","xmlnsXlink","stroke","strokeWidth","fill","fillRule","points","xlinkHref","name"],"sources":["/Users/farkhadov950405/Desktop/HTML_Academy/Projects/WhatToWatch/853355-what-to-watch-12/src/pages/player-screen.tsx/player-screen.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { AppRoute } from '../../const';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { redirectToRoute } from '../../store/actions/action';\nimport { errorSelector, filmSelector } from '../../store/selectors';\nimport NotFoundScreen from '../not-found-screen/not-found-screen';\nimport { fetchFilmAction } from '../../store/films-data/films-data';\nimport ErrorMessage from '../../components/error-message/error-message';\nimport { processErrorHandle } from '../../services/process-error-handler';\n\nfunction PlayerScreen(): JSX.Element {\n  const {id} = useParams();\n  const dispatch = useAppDispatch();\n  const errorMessage = useAppSelector(errorSelector);\n\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  const film = useAppSelector(filmSelector);\n\n  useEffect(() => {\n    async function fetchData() {\n      await dispatch(fetchFilmAction({id: Number(id)}));\n    }\n    fetchData();\n  }, [id]);\n\n  useEffect(() => {\n    if (errorMessage) {\n      processErrorHandle(errorMessage);\n    }\n  }, [id, errorMessage]);\n\n  const [isPlaying, setIsPlaying] = useState(true);\n  const [progress, setProgress] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n\n\n  useEffect(() => {\n    if (videoRef.current) {\n      const handlePlay = () => {\n        setIsPlaying(true);\n      };\n      const handlePause = () => {\n        setIsPlaying(false);\n      };\n\n      const handleLoadedMetadata = () => {\n        if (videoRef.current) {\n          setDuration(videoRef.current.duration);\n        }\n      };\n\n      const handleTimeUpdate = () => {\n        if (videoRef.current) {\n          setCurrentTime(videoRef.current?.currentTime);\n          const videoCurrent = videoRef.current?.currentTime;\n          const videoDuration = videoRef.current?.duration;\n          if (videoCurrent && videoDuration) {\n            setProgress((videoCurrent / videoDuration) * 100);\n          }\n        }\n      };\n\n      videoRef.current.addEventListener('play', handlePlay);\n      videoRef.current.addEventListener('pause', handlePause);\n      videoRef.current.addEventListener('timeupdate', handleTimeUpdate);\n      videoRef.current.addEventListener('loadedmetadata', handleLoadedMetadata);\n\n      return () => {\n        videoRef.current?.removeEventListener('timeupdate', handleTimeUpdate);\n        videoRef.current?.removeEventListener('play', handlePlay);\n        videoRef.current?.removeEventListener('pause', handlePause);\n        videoRef.current?.removeEventListener('loadedmetadata', handleLoadedMetadata);\n      };\n    }\n  }, [videoRef]);\n\n  if (!film) {\n    return <><ErrorMessage /><NotFoundScreen /></>;\n  }\n\n  const onExitButtonClick = () => {\n    if (videoRef.current) {\n      videoRef.current.pause();\n    }\n    dispatch(redirectToRoute(AppRoute.Root));\n  };\n\n  const onPlayButtonClick = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause();\n      } else {\n        videoRef.current.play();\n      }\n    }\n  };\n\n  const onFullScreenButtonClick = () => {\n    if (videoRef.current) {\n      videoRef.current.requestFullscreen();\n    }\n  };\n\n  function formatTime(seconds: number) {\n    const h = Math.floor(seconds / 3600);\n    const m = Math.floor((seconds % 3600) / 60);\n    const s = Math.floor(seconds % 60);\n    if (h === 0) {\n      return `- ${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n    } else {\n      return `- ${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n    }\n  }\n\n  return (\n    <div className=\"player\">\n      <video\n        className=\"player__video\"\n        src={film.videoLink}\n        poster={film.previewImage}\n        ref={videoRef}\n        autoPlay\n      >\n      </video>\n\n      <button type=\"button\" className=\"player__exit\" onClick={onExitButtonClick}>Exit</button>\n\n      <div className=\"player__controls\">\n        <div className=\"player__controls-row\">\n          <div className=\"player__time\">\n            <progress className=\"player__progress\" value={progress} max=\"100\"></progress>\n            <div className=\"player__toggler\" style={{left: `${progress}%`}}>Toggler</div>\n          </div>\n          <div className=\"player__time-value\">{`${formatTime(duration - currentTime)}`}</div>\n        </div>\n\n        <div className=\"player__controls-row\">\n          <button type=\"button\" className=\"player__play\" onClick={onPlayButtonClick}>\n            {\n              isPlaying ?\n                <>\n                  <svg width=\"14px\" height=\"21px\" viewBox=\"0 0 14 21\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\">\n                    <g id=\"Artboard\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                      <polygon id=\"Line\" fill=\"#EEE5B5\" fillRule=\"nonzero\" points=\"0 -1.11910481e-13 4 -1.11910481e-13 4 21 0 21\"></polygon>\n                      <polygon id=\"Line\" fill=\"#EEE5B5\" fillRule=\"nonzero\" points=\"10 -1.11910481e-13 14 -1.11910481e-13 14 21 10 21\"></polygon>\n                    </g>\n                  </svg>\n                  <span>Play</span>\n                </> :\n                <>\n                  <svg viewBox=\"0 0 19 19\" width=\"19\" height=\"19\">\n                    <use xlinkHref=\"#play-s\"></use>\n                  </svg>\n                  <span>Pause</span>\n                </>\n            }\n          </button>\n          <div className=\"player__name\">{film.name}</div>\n\n          <button type=\"button\" className=\"player__full-screen\" onClick={onFullScreenButtonClick}>\n            <svg viewBox=\"0 0 27 27\" width=\"27\" height=\"27\">\n              <use xlinkHref=\"#full-screen\"></use>\n            </svg>\n            <span>Full screen</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PlayerScreen;\n"],"mappings":"0hBAAA,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,QAAQ,KAAQ,aAAa,CACtC,OAASC,cAAc,CAAEC,cAAc,KAAQ,aAAa,CAC5D,OAASC,eAAe,KAAQ,4BAA4B,CAC5D,OAASC,aAAa,CAAEC,YAAY,KAAQ,uBAAuB,CACnE,MAAO,CAAAC,cAAc,KAAM,sCAAsC,CACjE,OAASC,eAAe,KAAQ,mCAAmC,CACnE,MAAO,CAAAC,YAAY,KAAM,8CAA8C,CACvE,OAASC,kBAAkB,KAAQ,sCAAsC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1E,QAAS,CAAAC,YAAYA,CAAA,CAAgB,CACnC,IAAAC,UAAA,CAAalB,SAAS,EAAE,CAAjBmB,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACT,GAAM,CAAAC,QAAQ,CAAGlB,cAAc,EAAE,CACjC,GAAM,CAAAmB,YAAY,CAAGlB,cAAc,CAACE,aAAa,CAAC,CAElD,GAAM,CAAAiB,QAAQ,CAAGxB,MAAM,CAAmB,IAAI,CAAC,CAE/C,GAAM,CAAAyB,IAAI,CAAGpB,cAAc,CAACG,YAAY,CAAC,CAEzCT,SAAS,CAAC,UAAM,SACC,CAAA2B,SAASA,CAAA,SAAAC,UAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,WAAA,EAAAA,UAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAxB,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACQ,CAAAhB,QAAQ,CAACZ,eAAe,CAAC,CAACW,EAAE,CAAEkB,MAAM,CAAClB,EAAE,CAAC,CAAC,CAAC,CAAC,yBAAAe,QAAA,CAAAI,IAAA,MAAAP,OAAA,GAClD,UAAAN,UAAA,CAAAC,KAAA,MAAAC,SAAA,GACDH,SAAS,EAAE,CACb,CAAC,CAAE,CAACL,EAAE,CAAC,CAAC,CAERtB,SAAS,CAAC,UAAM,CACd,GAAIwB,YAAY,CAAE,CAChBX,kBAAkB,CAACW,YAAY,CAAC,CAClC,CACF,CAAC,CAAE,CAACF,EAAE,CAAEE,YAAY,CAAC,CAAC,CAEtB,IAAAkB,SAAA,CAAkCxC,QAAQ,CAAC,IAAI,CAAC,CAAAyC,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,IAAAI,UAAA,CAAgC7C,QAAQ,CAAC,CAAC,CAAC,CAAA8C,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAApCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAsCjD,QAAQ,CAAC,CAAC,CAAC,CAAAkD,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA1CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAAgCrD,QAAQ,CAAC,CAAC,CAAC,CAAAsD,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAApCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAG5BxD,SAAS,CAAC,UAAM,CACd,GAAIyB,QAAQ,CAACkC,OAAO,CAAE,CACpB,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvBd,YAAY,CAAC,IAAI,CAAC,CACpB,CAAC,CACD,GAAM,CAAAe,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxBf,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAED,GAAM,CAAAgB,oBAAoB,CAAG,QAAvB,CAAAA,oBAAoBA,CAAA,CAAS,CACjC,GAAIrC,QAAQ,CAACkC,OAAO,CAAE,CACpBD,WAAW,CAACjC,QAAQ,CAACkC,OAAO,CAACF,QAAQ,CAAC,CACxC,CACF,CAAC,CAED,GAAM,CAAAM,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7B,GAAItC,QAAQ,CAACkC,OAAO,CAAE,KAAAK,iBAAA,CAAAC,kBAAA,CAAAC,kBAAA,CACpBZ,cAAc,EAAAU,iBAAA,CAACvC,QAAQ,CAACkC,OAAO,UAAAK,iBAAA,iBAAhBA,iBAAA,CAAkBX,WAAW,CAAC,CAC7C,GAAM,CAAAc,YAAY,EAAAF,kBAAA,CAAGxC,QAAQ,CAACkC,OAAO,UAAAM,kBAAA,iBAAhBA,kBAAA,CAAkBZ,WAAW,CAClD,GAAM,CAAAe,aAAa,EAAAF,kBAAA,CAAGzC,QAAQ,CAACkC,OAAO,UAAAO,kBAAA,iBAAhBA,kBAAA,CAAkBT,QAAQ,CAChD,GAAIU,YAAY,EAAIC,aAAa,CAAE,CACjClB,WAAW,CAAEiB,YAAY,CAAGC,aAAa,CAAI,GAAG,CAAC,CACnD,CACF,CACF,CAAC,CAED3C,QAAQ,CAACkC,OAAO,CAACU,gBAAgB,CAAC,MAAM,CAAET,UAAU,CAAC,CACrDnC,QAAQ,CAACkC,OAAO,CAACU,gBAAgB,CAAC,OAAO,CAAER,WAAW,CAAC,CACvDpC,QAAQ,CAACkC,OAAO,CAACU,gBAAgB,CAAC,YAAY,CAAEN,gBAAgB,CAAC,CACjEtC,QAAQ,CAACkC,OAAO,CAACU,gBAAgB,CAAC,gBAAgB,CAAEP,oBAAoB,CAAC,CAEzE,MAAO,WAAM,KAAAQ,kBAAA,CAAAC,kBAAA,CAAAC,kBAAA,CAAAC,kBAAA,CACX,CAAAH,kBAAA,CAAA7C,QAAQ,CAACkC,OAAO,UAAAW,kBAAA,iBAAhBA,kBAAA,CAAkBI,mBAAmB,CAAC,YAAY,CAAEX,gBAAgB,CAAC,CACrE,CAAAQ,kBAAA,CAAA9C,QAAQ,CAACkC,OAAO,UAAAY,kBAAA,iBAAhBA,kBAAA,CAAkBG,mBAAmB,CAAC,MAAM,CAAEd,UAAU,CAAC,CACzD,CAAAY,kBAAA,CAAA/C,QAAQ,CAACkC,OAAO,UAAAa,kBAAA,iBAAhBA,kBAAA,CAAkBE,mBAAmB,CAAC,OAAO,CAAEb,WAAW,CAAC,CAC3D,CAAAY,kBAAA,CAAAhD,QAAQ,CAACkC,OAAO,UAAAc,kBAAA,iBAAhBA,kBAAA,CAAkBC,mBAAmB,CAAC,gBAAgB,CAAEZ,oBAAoB,CAAC,CAC/E,CAAC,CACH,CACF,CAAC,CAAE,CAACrC,QAAQ,CAAC,CAAC,CAEd,GAAI,CAACC,IAAI,CAAE,CACT,mBAAOP,KAAA,CAAAF,SAAA,EAAA0D,QAAA,eAAE5D,IAAA,CAACH,YAAY,IAAG,cAAAG,IAAA,CAACL,cAAc,IAAG,GAAG,CAChD,CAEA,GAAM,CAAAkE,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9B,GAAInD,QAAQ,CAACkC,OAAO,CAAE,CACpBlC,QAAQ,CAACkC,OAAO,CAACkB,KAAK,EAAE,CAC1B,CACAtD,QAAQ,CAAChB,eAAe,CAACH,QAAQ,CAAC0E,IAAI,CAAC,CAAC,CAC1C,CAAC,CAED,GAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9B,GAAItD,QAAQ,CAACkC,OAAO,CAAE,CACpB,GAAId,SAAS,CAAE,CACbpB,QAAQ,CAACkC,OAAO,CAACkB,KAAK,EAAE,CAC1B,CAAC,IAAM,CACLpD,QAAQ,CAACkC,OAAO,CAACqB,IAAI,EAAE,CACzB,CACF,CACF,CAAC,CAED,GAAM,CAAAC,uBAAuB,CAAG,QAA1B,CAAAA,uBAAuBA,CAAA,CAAS,CACpC,GAAIxD,QAAQ,CAACkC,OAAO,CAAE,CACpBlC,QAAQ,CAACkC,OAAO,CAACuB,iBAAiB,EAAE,CACtC,CACF,CAAC,CAED,QAAS,CAAAC,UAAUA,CAACC,OAAe,CAAE,CACnC,GAAM,CAAAC,CAAC,CAAGC,IAAI,CAACC,KAAK,CAACH,OAAO,CAAG,IAAI,CAAC,CACpC,GAAM,CAAAI,CAAC,CAAGF,IAAI,CAACC,KAAK,CAAEH,OAAO,CAAG,IAAI,CAAI,EAAE,CAAC,CAC3C,GAAM,CAAAK,CAAC,CAAGH,IAAI,CAACC,KAAK,CAACH,OAAO,CAAG,EAAE,CAAC,CAClC,GAAIC,CAAC,GAAK,CAAC,CAAE,CACX,WAAAK,MAAA,CAAYF,CAAC,CAACG,QAAQ,EAAE,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,MAAAF,MAAA,CAAID,CAAC,CAACE,QAAQ,EAAE,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,EAC5E,CAAC,IAAM,CACL,WAAAF,MAAA,CAAYL,CAAC,CAACM,QAAQ,EAAE,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,MAAAF,MAAA,CAAIF,CAAC,CAACG,QAAQ,EAAE,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,MAAAF,MAAA,CAAID,CAAC,CAACE,QAAQ,EAAE,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,EAC7G,CACF,CAEA,mBACEzE,KAAA,QAAK0E,SAAS,CAAC,QAAQ,CAAAlB,QAAA,eACrB5D,IAAA,UACE8E,SAAS,CAAC,eAAe,CACzBC,GAAG,CAAEpE,IAAI,CAACqE,SAAU,CACpBC,MAAM,CAAEtE,IAAI,CAACuE,YAAa,CAC1BC,GAAG,CAAEzE,QAAS,CACd0E,QAAQ,OAEF,cAERpF,IAAA,WAAQqF,IAAI,CAAC,QAAQ,CAACP,SAAS,CAAC,cAAc,CAACQ,OAAO,CAAEzB,iBAAkB,CAAAD,QAAA,CAAC,MAAI,EAAS,cAExFxD,KAAA,QAAK0E,SAAS,CAAC,kBAAkB,CAAAlB,QAAA,eAC/BxD,KAAA,QAAK0E,SAAS,CAAC,sBAAsB,CAAAlB,QAAA,eACnCxD,KAAA,QAAK0E,SAAS,CAAC,cAAc,CAAAlB,QAAA,eAC3B5D,IAAA,aAAU8E,SAAS,CAAC,kBAAkB,CAACS,KAAK,CAAErD,QAAS,CAACsD,GAAG,CAAC,KAAK,EAAY,cAC7ExF,IAAA,QAAK8E,SAAS,CAAC,iBAAiB,CAACW,KAAK,CAAE,CAACC,IAAI,IAAAf,MAAA,CAAKzC,QAAQ,KAAG,CAAE,CAAA0B,QAAA,CAAC,SAAO,EAAM,GACzE,cACN5D,IAAA,QAAK8E,SAAS,CAAC,oBAAoB,CAAAlB,QAAA,IAAAe,MAAA,CAAKP,UAAU,CAAC1B,QAAQ,CAAGJ,WAAW,CAAC,GAAS,GAC/E,cAENlC,KAAA,QAAK0E,SAAS,CAAC,sBAAsB,CAAAlB,QAAA,eACnC5D,IAAA,WAAQqF,IAAI,CAAC,QAAQ,CAACP,SAAS,CAAC,cAAc,CAACQ,OAAO,CAAEtB,iBAAkB,CAAAJ,QAAA,CAEtE9B,SAAS,cACP1B,KAAA,CAAAF,SAAA,EAAA0D,QAAA,eACE5D,IAAA,QAAK2F,KAAK,CAAC,MAAM,CAACC,MAAM,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAACC,OAAO,CAAC,KAAK,CAACC,KAAK,CAAC,4BAA4B,CAACC,UAAU,CAAC,8BAA8B,CAAApC,QAAA,cAC5IxD,KAAA,MAAGG,EAAE,CAAC,UAAU,CAAC0F,MAAM,CAAC,MAAM,CAACC,WAAW,CAAC,GAAG,CAACC,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAC,SAAS,CAAAxC,QAAA,eAC3E5D,IAAA,YAASO,EAAE,CAAC,MAAM,CAAC4F,IAAI,CAAC,SAAS,CAACC,QAAQ,CAAC,SAAS,CAACC,MAAM,CAAC,+CAA+C,EAAW,cACtHrG,IAAA,YAASO,EAAE,CAAC,MAAM,CAAC4F,IAAI,CAAC,SAAS,CAACC,QAAQ,CAAC,SAAS,CAACC,MAAM,CAAC,mDAAmD,EAAW,GACxH,EACA,cACNrG,IAAA,SAAA4D,QAAA,CAAM,MAAI,EAAO,GAChB,cACHxD,KAAA,CAAAF,SAAA,EAAA0D,QAAA,eACE5D,IAAA,QAAK6F,OAAO,CAAC,WAAW,CAACF,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAAAhC,QAAA,cAC7C5D,IAAA,QAAKsG,SAAS,CAAC,SAAS,EAAO,EAC3B,cACNtG,IAAA,SAAA4D,QAAA,CAAM,OAAK,EAAO,GACjB,EAEA,cACT5D,IAAA,QAAK8E,SAAS,CAAC,cAAc,CAAAlB,QAAA,CAAEjD,IAAI,CAAC4F,IAAI,EAAO,cAE/CnG,KAAA,WAAQiF,IAAI,CAAC,QAAQ,CAACP,SAAS,CAAC,qBAAqB,CAACQ,OAAO,CAAEpB,uBAAwB,CAAAN,QAAA,eACrF5D,IAAA,QAAK6F,OAAO,CAAC,WAAW,CAACF,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAAAhC,QAAA,cAC7C5D,IAAA,QAAKsG,SAAS,CAAC,cAAc,EAAO,EAChC,cACNtG,IAAA,SAAA4D,QAAA,CAAM,aAAW,EAAO,GACjB,GACL,GACF,GACF,CAEV,CAEA,cAAe,CAAAvD,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}